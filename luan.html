<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ¾æ¡‚è¾‰çš„å°æ¸¸æˆåˆé›†</title>
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            font-family: "Microsoft YaHei", Arial, sans-serif;
            background-color: #f5f7fa;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        h1 { color: #2d3748; margin-bottom: 40px; }
        .container { max-width: 450px; margin: 0 auto; }
        
        /* å¯¼èˆªé¡µæ ·å¼ */
        #nav-page { display: block; }
        .game-card {
            background-color: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: transform 0.2s;
        }
        .game-card:hover { transform: translateY(-5px); }
        .game-card h2 { color: #4299e1; margin-top: 0; }
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: #4299e1;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }
        .back-btn { margin-top: 20px; background-color: #9f7aea; }

        /* çŒœæ•°å­—æ¸¸æˆæ ·å¼ */
        #guess-page { display: none; }
        .game-box {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        #guess-result { font-size: 18px; margin: 20px 0; padding: 10px; border-radius: 8px; background-color: #f0f8ff; }

        /* çŸ³å¤´å‰ªåˆ€å¸ƒæ ·å¼ */
        #rps-page { display: none; }
        #rps-result {
            font-size: 20px;
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background-color: #ecf0f1;
        }
        #score { font-size: 18px; margin-top: 20px; color: #7f8c8d; }

        /* æ¤ç‰©å¤§æˆ˜æ ¾æ¡‚è¾‰ç‰ˆæ ·å¼ */
        #pvz-page { display: none; }
        .game-container {
            width: 300px;
            height: 400px;
            border: 2px solid #555;
            margin: 20px auto;
            position: relative;
            background-color: #222;
            overflow: hidden;
        }
        .sun-display {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 20px;
            font-weight: bold;
            color: yellow;
            z-index: 10;
        }
        .shop {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 60px;
            background-color: #333;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 2px solid #555;
        }
        .plant-btn {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background-color: #2ecc71;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            cursor: pointer;
            border: 2px solid #27ae60;
            color: white;
            font-weight: bold;
        }
        .grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 340px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(4, 1fr);
        }
        .cell {
            border: 1px dashed #444;
            box-sizing: border-box;
            position: relative;
        }
        .plant {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #2ecc71;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: #27ae60;
            z-index: 5;
        }
        .zombie {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #c0392b;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: #e74c3c;
            z-index: 4;
            left: 100%;
            animation: move 10s linear infinite;
        }
        .bullet {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: yellow;
            border-radius: 50%;
            z-index: 6;
        }
        @keyframes move {
            0% { left: 100%; }
            100% { left: -100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 1. å¯¼èˆªé¡µ -->
        <div id="nav-page">
            <h1>æ ¾æ¡‚è¾‰çš„å°æ¸¸æˆåˆé›†</h1>
            <div class="game-card" onclick="showPage('guess-page')">
                <h2>çŒœæ•°å­—æ¸¸æˆ</h2>
                <p>çŒœ1-100ä¹‹é—´çš„éšæœºæ•°ï¼Œ7æ¬¡æœºä¼šæŒ‘æˆ˜ï¼</p>
                <button class="btn">å¼€å§‹ç©çŒœæ•°å­—</button>
            </div>
            <div class="game-card" onclick="showPage('rps-page')">
                <h2>çŸ³å¤´å‰ªåˆ€å¸ƒ</h2>
                <p>å’Œç”µè„‘å¯¹å†³ï¼Œçœ‹çœ‹è°çš„æ‰‹æ°”æ›´å¥½ï¼</p>
                <button class="btn">å¼€å§‹ç©çŸ³å¤´å‰ªåˆ€å¸ƒ</button>
            </div>
            <div class="game-card" onclick="showPage('pvz-page')">
                <h2>æ¤ç‰©å¤§æˆ˜æ ¾æ¡‚è¾‰ç‰ˆ</h2>
                <p>æ— é™é˜³å…‰ï¼æ— é™å†·å´ï¼æ— æ•Œç‰ˆå¡”é˜²æ¸¸æˆ</p>
                <button class="btn">å¼€å§‹ä¿å«èŠ±å›­</button>
            </div>
        </div>

        <!-- 2. çŒœæ•°å­—æ¸¸æˆ -->
        <div id="guess-page">
            <h2>çŒœæ•°å­—æ¸¸æˆ</h2>
            <div class="game-box">
                <p>æˆ‘å·²ç»æƒ³å¥½äº†ä¸€ä¸ª1åˆ°100ä¹‹é—´çš„æ•°å­—ã€‚</p>
                <input type="number" id="guess-input" min="1" max="100" placeholder="è¯·è¾“å…¥ä½ çŒœçš„æ•°å­—">
                <button class="btn" onclick="checkGuess()">æäº¤</button>
                <div id="guess-result">è¯·è¾“å…¥æ•°å­—å¹¶ç‚¹å‡»æäº¤</div>
                <p>å‰©ä½™æ¬¡æ•°: <span id="guess-left">7</span></p>
            </div>
            <button class="back-btn btn" onclick="showPage('nav-page')">è¿”å›é¦–é¡µ</button>
        </div>

        <!-- 3. çŸ³å¤´å‰ªåˆ€å¸ƒ -->
        <div id="rps-page">
            <h2>çŸ³å¤´å‰ªåˆ€å¸ƒ</h2>
            <div class="game-box">
                <div class="btn-group">
                    <button class="btn" onclick="playRPS('çŸ³å¤´')">çŸ³å¤´</button>
                    <button class="btn" onclick="playRPS('å‰ªåˆ€')">å‰ªåˆ€</button>
                    <button class="btn" onclick="playRPS('å¸ƒ')">å¸ƒ</button>
                </div>
                <div id="rps-result">è¯·é€‰æ‹©ä½ çš„å‡ºæ‹³ï¼</div>
                <div id="score">å¾—åˆ†ï¼šç©å®¶ 0 - 0 ç”µè„‘</div>
            </div>
            <button class="back-btn btn" onclick="showPage('nav-page')">è¿”å›é¦–é¡µ</button>
        </div>

        <!-- 4. æ¤ç‰©å¤§æˆ˜æ ¾æ¡‚è¾‰ç‰ˆ -->
        <div id="pvz-page">
            <h2>æ¤ç‰©å¤§æˆ˜æ ¾æ¡‚è¾‰ç‰ˆ</h2>
            <p style="color:yellow">æ— é™é˜³å…‰ Â· æ— é™å†·å´ Â· éšæ„æ‘†æ”¾</p>
            <div class="game-container">
                <div class="sun-display">â˜€ é˜³å…‰: 9999</div>
                <div class="grid" id="grid">
                    <!-- æ ¼å­ç”±JSç”Ÿæˆ -->
                </div>
                <div class="shop">
                    <div class="plant-btn" onclick="selectPlant('peashooter')">è±Œè±†å°„æ‰‹</div>
                    <div class="plant-btn" onclick="selectPlant('sunflower')">å‘æ—¥è‘µ</div>
                    <div class="plant-btn" onclick="selectPlant('wallnut')">åšæœå¢™</div>
                </div>
            </div>
            <button class="back-btn btn" onclick="showPage('nav-page')">è¿”å›é¦–é¡µ</button>
        </div>
    </div>

    <script>
        // é¡µé¢åˆ‡æ¢é€»è¾‘
        function showPage(pageId) {
            document.querySelectorAll('[id$="-page"]').forEach(el => el.style.display = 'none');
            document.getElementById(pageId).style.display = 'block';
            if (pageId === 'pvz-page') initPVZ(); // åˆå§‹åŒ–æ¤ç‰©å¤§æˆ˜åƒµå°¸
            if (pageId === 'guess-page') initGuess(); // åˆå§‹åŒ–çŒœæ•°å­—
        }

        // --- çŒœæ•°å­—æ¸¸æˆé€»è¾‘ ---
        let secretNumber, guessCount;
        function initGuess() {
            secretNumber = Math.floor(Math.random() * 100) + 1;
            guessCount = 7;
            document.getElementById('guess-left').innerText = guessCount;
            document.getElementById('guess-result').innerText = 'è¯·è¾“å…¥æ•°å­—å¹¶ç‚¹å‡»æäº¤';
        }
        function checkGuess() {
            const input = document.getElementById('guess-input');
            const result = document.getElementById('guess-result');
            const userGuess = Number(input.value);
            if (isNaN(userGuess) || userGuess < 1 || userGuess > 100) {
                result.innerText = 'è¯·è¾“å…¥1åˆ°100ä¹‹é—´çš„æœ‰æ•ˆæ•°å­—';
                return;
            }
            guessCount--;
            document.getElementById('guess-left').innerText = guessCount;
            if (userGuess === secretNumber) {
                result.innerText = `æ­å–œä½ çŒœå¯¹äº†ï¼æ•°å­—å°±æ˜¯ ${secretNumber}ï¼`;
                result.style.backgroundColor = '#c3e6cb';
            } else if (guessCount === 0) {
                result.innerText = `æ¸¸æˆç»“æŸï¼æ­£ç¡®æ•°å­—æ˜¯ ${secretNumber}ã€‚`;
                result.style.backgroundColor = '#f8d7da';
            } else {
                const hint = userGuess < secretNumber ? 'å¤ªå°äº†' : 'å¤ªå¤§äº†';
                result.innerText = `ä½ çŒœçš„æ•°å­—${hint}ï¼Œä½ è¿˜æœ‰ ${guessCount} æ¬¡æœºä¼šã€‚`;
                result.style.backgroundColor = '#f0f8ff';
            }
            input.value = '';
        }

        // --- çŸ³å¤´å‰ªåˆ€å¸ƒé€»è¾‘ ---
        let pScore = 0, cScore = 0;
        function playRPS(playerChoice) {
            const choices = ['çŸ³å¤´', 'å‰ªåˆ€', 'å¸ƒ'];
            const computerChoice = choices[Math.floor(Math.random() * 3)];
            let res = '';
            if (playerChoice === computerChoice) {
                res = `å¹³å±€ï¼ä½ å’Œç”µè„‘éƒ½å‡ºäº†${playerChoice}`;
            } else if (
                (playerChoice === 'çŸ³å¤´' && computerChoice === 'å‰ªåˆ€') ||
                (playerChoice === 'å‰ªåˆ€' && computerChoice === 'å¸ƒ') ||
                (playerChoice === 'å¸ƒ' && computerChoice === 'çŸ³å¤´')
            ) {
                pScore++;
                res = `èƒœåˆ©ï¼ä½ å‡º${playerChoice}ï¼Œç”µè„‘å‡º${computerChoice}`;
            } else {
                cScore++;
                res = `å¤±è´¥ï¼ä½ å‡º${playerChoice}ï¼Œç”µè„‘å‡º${computerChoice}`;
            }
            document.getElementById('rps-result').innerText = res;
            document.getElementById('score').innerText = `å¾—åˆ†ï¼šç©å®¶ ${pScore} - ${cScore} ç”µè„‘`;
        }

        // --- æ¤ç‰©å¤§æˆ˜æ ¾æ¡‚è¾‰ç‰ˆé€»è¾‘ ---
        let selectedPlant = null;
        function initPVZ() {
            const grid = document.getElementById('grid');
            if (grid.children.length === 0) {
                for (let i = 0; i < 12; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.index = i;
                    cell.addEventListener('click', () => placePlant(i));
                    grid.appendChild(cell);
                }
                // å¯åŠ¨åƒµå°¸ç”Ÿæˆ
                setInterval(spawnZombie, 3000);
            }
        }
        function selectPlant(plant) { selectedPlant = plant; }
        function placePlant(index) {
            if (!selectedPlant) return;
            const cell = document.getElementById('grid').children[index];
            if (cell.querySelector('.plant')) return;
            const plant = document.createElement('div');
            plant.className = 'plant';
            plant.innerHTML = selectedPlant === 'peashooter' ? 'ğŸŒ±' : selectedPlant === 'sunflower' ? 'ğŸŒ»' : 'ğŸ¥œ';
            cell.appendChild(plant);
            if (selectedPlant === 'peashooter') setInterval(() => shootBullet(index), 1000);
        }
        function shootBullet(index) {
            const cell = document.getElementById('grid').children[index];
            const bullet = document.createElement('div');
            bullet.className = 'bullet';
            bullet.style.top = '50%';
            bullet.style.left = '80%';
            bullet.style.transform = 'translateY(-50%)';
            cell.appendChild(bullet);
            let pos = 80;
            const interval = setInterval(() => {
                pos += 5;
                bullet.style.left = pos + '%';
                const zombies = document.querySelectorAll('.zombie');
                zombies.forEach(z => {
                    if (z.parentElement === cell) z.remove();
                });
                if (pos > 120) { bullet.remove(); clearInterval(interval); }
            }, 20);
        }
        function spawnZombie() {
            const randomRow = Math.floor(Math.random() * 12);
            const cell = document.getElementById('grid').children[randomRow];
            if (!cell.querySelector('.zombie')) {
                const zombie = document.createElement('div');
                zombie.className = 'zombie';
                zombie.innerHTML = 'ğŸ§Ÿ';
                cell.appendChild(zombie);
            }
        }
    </script>
</body>
</html>
